<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>PaymentSDK Playground</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">


</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


<div class="container p-3">
    <form>
        <div class="form-group mb-3">
            <label for="customerId">Customer Id</label>
            <input type="text" class="form-control" id="customerId" placeholder="Customer Id" value="cst_jyeynkeyjqqa3zhm">

            <label for="merchantId">Merchant Id</label>
            <input type="text" class="form-control" id="merchantId" placeholder="Merchant Id" value="ixigo">

            <label for="clientId">Client Id</label>
            <input type="text" class="form-control" id="clientId" placeholder="Client Id" value="ixigo_MWEB">

            <label for="clientId">Order Id</label>
            <input type="text" class="form-control" id="orderId" placeholder="Order Id" value="2IQIQW5TSWQ5FSK5Y">
        </div>

        <button type="button" id="initialize-btn" class="btn btn-primary">Initialize</button>
        <button type="button" id="upi-apps-btn" class="btn btn-primary">Upi Apps</button>
    </form>
</div>

<script>
    document.getElementById('initialize-btn').onclick = async () => {
        try {
            await IxigoSDK.payment.initialize({
                "customerId": document.getElementById('customerId').value,
                "merchantId": document.getElementById('merchantId').value,
                "clientId": document.getElementById('clientId').value
            })
            alert("Successfully initialized SDK")
        } catch(e) {
            alert("Error trying to initialize SDK=${JSON.stringify(e)}")
        }
    }

    document.getElementById('upi-apps-btn').onclick = async () => {
        try {
            const apps = await IxigoSDK.payment.getAvailableUPIApps({
                "orderId": document.getElementById('orderId').value,
            })
            alert(`Available UPI Apps=${JSON.stringify(apps)}`)
        } catch(e) {
            alert(`Error trying to fetch UPI apps=${JSON.stringify(e)}`)
        }
    }
</script>
</body>
</html>
